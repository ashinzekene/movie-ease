{"version":3,"sources":["../../src/pages/home/home.module.ts","../../src/pages/home/home.ts"],"names":[],"mappings":"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","file":"5.main.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { Home } from './home';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    Home,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(Home),\r\n  ],\r\n  exports: [\r\n    Home\r\n  ]\r\n})\r\nexport class HomeModule {}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.module.ts","import { Component, ViewChild } from '@angular/core';\nimport { IonicPage, NavController, Content, Slides } from 'ionic-angular';\nimport { MoviesStorage } from '../../providers/storage/movies-storage'\nimport { MoviesApi } from \"../../providers/api/movies-api\";\n\n@IonicPage({\n  segment: \"/\"\n})\n@Component({\n  selector: 'page-home',\n  templateUrl: 'home.html'\n})\nexport class Home {\n  @ViewChild(Content) content: Content;\n  @ViewChild(Slides) slides: Slides;\n  public contentWidth;\n  private _pageNo: number = 1;\n  // private slideIndex=0;\n  public slidesPerPage;\n  public upcomingMovies= [];\n  \n  constructor(public navCtrl: NavController, public store: MoviesStorage, public movies: MoviesApi) {\n    this.getUpcomingMovies();\n  }\n  goToDetailsPage(movie) {\n    this.navCtrl.push('MovieDetails', {id: movie.id, data: movie})\n  }\n  loadUpcoming() {\n    this.movies.upcoming(this._pageNo).subscribe(res => {\n      if (this._pageNo === 1) this.upcomingMovies = res.results;\n      else this.upcomingMovies = this.upcomingMovies.concat(res.results)\n      this._pageNo++\n    });\n\n  }\n  getUpcomingMovies() {\n    this.store.getUpcoming().then(res=> {\n      this.upcomingMovies = res.results;\n      console.log(\"On page\", res)\n    })\n  }\n  changeSlide(sym) {\n    sym === \"+\"? this.slides.slideNext(): this.slides.slidePrev();\n  }\n  search() {\n    this.navCtrl.push(\"Search\")\n  }\n  doRefresh(refresher) {\n    //this.ionViewDidLoad()\n  }\n  slideChange(e) {\n    // this.slideIndex = this.slides.getActiveIndex()\n    let slidesRemaining = this.slides.length() - this.slides.getActiveIndex()\n    let scrollForward = this.slides.getActiveIndex() > this.slides.getPreviousIndex()\n    if(slidesRemaining === 3 && scrollForward) {\n      this.loadUpcoming()\n    }\n  }\n  ionViewDidLoad() {\n    // this.slides.slideTo(this.slideIndex || 0)\n    let width = this.content.getContentDimensions().contentWidth;\n    if (width <= 420) {\n      console.log(\"Small screen\")\n      this.slidesPerPage =1\n    } else if ( width <= 530) {\n      console.log(\"Tablet\")\n      this.slidesPerPage=2\n    } else if ( width <= 650) {\n      console.log(\"Tablet\")\n      this.slidesPerPage=3\n    } else if ( width > 770) {\n      console.log(\"Big screen\")\n      this.slidesPerPage=4\n    } else {\n      console.log(\"Cannot get Screen size\")\n      this.slidesPerPage=2\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts"],"sourceRoot":""}